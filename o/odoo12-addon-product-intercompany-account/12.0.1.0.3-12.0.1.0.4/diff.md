# Comparing `tmp/odoo12_addon_product_intercompany_account-12.0.1.0.3-py3-none-any.whl.zip` & `tmp/odoo12_addon_product_intercompany_account-12.0.1.0.4-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,23 +1,23 @@
-Zip file size: 25220 bytes, number of entries: 21
--rw-r--r--  2.0 unx     2889 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/README.rst
--rw-r--r--  2.0 unx       21 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/__init__.py
--rw-r--r--  2.0 unx      583 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/__manifest__.py
--rw-r--r--  2.0 unx     3077 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/i18n/product_intercompany_account.pot
--rw-r--r--  2.0 unx      157 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/models/__init__.py
--rw-r--r--  2.0 unx     1487 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/models/account_invoice.py
--rw-r--r--  2.0 unx      879 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/models/account_invoice_line.py
--rw-r--r--  2.0 unx      621 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/models/product_category.py
--rw-r--r--  2.0 unx     1055 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/models/product_template.py
--rw-r--r--  2.0 unx      751 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/models/sale_order_line.py
--rw-r--r--  2.0 unx       92 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      167 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx     9455 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/static/description/icon.png
--rw-r--r--  2.0 unx    12103 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/static/description/index.html
--rw-r--r--  2.0 unx       41 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/tests/__init__.py
--rw-r--r--  2.0 unx     3629 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/tests/test_intercompany_accounts.py
--rw-r--r--  2.0 unx     1525 b- defN 23-Apr-12 09:18 odoo/addons/product_intercompany_account/views/product_view.xml
--rw-r--r--  2.0 unx     3494 b- defN 23-Apr-12 09:18 odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Apr-12 09:18 odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Apr-12 09:18 odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     2506 b- defN 23-Apr-12 09:18 odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/RECORD
-21 files, 44629 bytes uncompressed, 20844 bytes compressed:  53.3%
+Zip file size: 25235 bytes, number of entries: 21
+-rw-r--r--  2.0 unx     2889 b- defN 23-Apr-14 11:56 odoo/addons/product_intercompany_account/README.rst
+-rw-r--r--  2.0 unx       21 b- defN 23-Apr-14 11:56 odoo/addons/product_intercompany_account/__init__.py
+-rw-r--r--  2.0 unx      583 b- defN 23-Apr-14 11:56 odoo/addons/product_intercompany_account/__manifest__.py
+-rw-r--r--  2.0 unx     3077 b- defN 23-Apr-14 11:56 odoo/addons/product_intercompany_account/i18n/product_intercompany_account.pot
+-rw-r--r--  2.0 unx      157 b- defN 23-Apr-14 11:56 odoo/addons/product_intercompany_account/models/__init__.py
+-rw-r--r--  2.0 unx     1501 b- defN 23-Apr-14 11:56 odoo/addons/product_intercompany_account/models/account_invoice.py
+-rw-r--r--  2.0 unx      886 b- defN 23-Apr-14 11:56 odoo/addons/product_intercompany_account/models/account_invoice_line.py
+-rw-r--r--  2.0 unx      621 b- defN 23-Apr-14 11:56 odoo/addons/product_intercompany_account/models/product_category.py
+-rw-r--r--  2.0 unx     1055 b- defN 23-Apr-14 11:56 odoo/addons/product_intercompany_account/models/product_template.py
+-rw-r--r--  2.0 unx      758 b- defN 23-Apr-14 11:56 odoo/addons/product_intercompany_account/models/sale_order_line.py
+-rw-r--r--  2.0 unx       92 b- defN 23-Apr-14 11:56 odoo/addons/product_intercompany_account/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      167 b- defN 23-Apr-14 11:56 odoo/addons/product_intercompany_account/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx     9455 b- defN 23-Apr-14 11:56 odoo/addons/product_intercompany_account/static/description/icon.png
+-rw-r--r--  2.0 unx    12103 b- defN 23-Apr-14 11:56 odoo/addons/product_intercompany_account/static/description/index.html
+-rw-r--r--  2.0 unx       41 b- defN 23-Apr-14 11:56 odoo/addons/product_intercompany_account/tests/__init__.py
+-rw-r--r--  2.0 unx     3629 b- defN 23-Apr-14 11:56 odoo/addons/product_intercompany_account/tests/test_intercompany_accounts.py
+-rw-r--r--  2.0 unx     1525 b- defN 23-Apr-14 11:56 odoo/addons/product_intercompany_account/views/product_view.xml
+-rw-r--r--  2.0 unx     3494 b- defN 23-Apr-14 11:57 odoo12_addon_product_intercompany_account-12.0.1.0.4.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Apr-14 11:57 odoo12_addon_product_intercompany_account-12.0.1.0.4.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Apr-14 11:57 odoo12_addon_product_intercompany_account-12.0.1.0.4.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     2506 b- defN 23-Apr-14 11:57 odoo12_addon_product_intercompany_account-12.0.1.0.4.dist-info/RECORD
+21 files, 44657 bytes uncompressed, 20859 bytes compressed:  53.3%
```

## zipnote {}

```diff
@@ -45,20 +45,20 @@
 
 Filename: odoo/addons/product_intercompany_account/tests/test_intercompany_accounts.py
 Comment: 
 
 Filename: odoo/addons/product_intercompany_account/views/product_view.xml
 Comment: 
 
-Filename: odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/METADATA
+Filename: odoo12_addon_product_intercompany_account-12.0.1.0.4.dist-info/METADATA
 Comment: 
 
-Filename: odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/WHEEL
+Filename: odoo12_addon_product_intercompany_account-12.0.1.0.4.dist-info/WHEEL
 Comment: 
 
-Filename: odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/top_level.txt
+Filename: odoo12_addon_product_intercompany_account-12.0.1.0.4.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/RECORD
+Filename: odoo12_addon_product_intercompany_account-12.0.1.0.4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/product_intercompany_account/__manifest__.py

```diff
@@ -1,12 +1,12 @@
 # Copyright 2021 ForgeFlow S.L.
 # License LGPL-3.0 or later (https://www.gnu.org/licenses/lgpl.html).
 {
     'name': 'Product Intercompany Account',
-    'version': '12.0.1.0.3',
+    'version': '12.0.1.0.4',
     'summary': 'Change the income and COGS accounts in intercompany transactions',
     'author': 'ForgeFlow S.L., Odoo Community Association (OCA)',
     'website': 'https://github.com/OCA/multi-company',
     'license': 'LGPL-3',
     'depends': ['sale_stock', 'account'],
     "data": [
         "views/product_view.xml",
```

## odoo/addons/product_intercompany_account/models/account_invoice.py

```diff
@@ -2,29 +2,29 @@
 
 
 class AccountInvoice(models.Model):
     _inherit = "account.invoice"
 
     def _anglo_saxon_sale_move_lines(self, i_line):
         res = super(AccountInvoice, self)._anglo_saxon_sale_move_lines(i_line)
-        our_companies = self.env['res.company'].search(
+        our_companies = self.env['res.company'].sudo().search(
             [('partner_id', '=', self.partner_id.id)]
         )
         product_level = i_line.product_id.property_account_expense_intercompany
         categ = i_line.product_id.categ_id.property_account_expense_categ_intercompany
         if our_companies and (product_level or categ):
             accounts = i_line.product_id.product_tmpl_id.get_product_accounts()
             for item in res:
                 if item["account_id"] == accounts["expense"].id:
                     item["account_id"] = product_level.id or categ.id
         return res
 
     def _prepare_invoice_line_from_po_line(self, line):
         data = super(AccountInvoice, self)._prepare_invoice_line_from_po_line(line)
-        is_intercompany = self.env['res.company'].search([(
+        is_intercompany = self.env['res.company'].sudo().search([(
             'partner_id', '=', self.partner_id.id,
         )])
 
         if is_intercompany:
             inter_company_accounts = line.product_id.product_tmpl_id.\
                 get_product_intercompany_accounts()
             if type in ('out_invoice', 'out_refund'):
```

## odoo/addons/product_intercompany_account/models/account_invoice_line.py

```diff
@@ -6,15 +6,15 @@
 
     def get_invoice_line_account(self, type, product, fpos, company):
         res = super().get_invoice_line_account(type, product, fpos, company)
         if type in ('out_invoice', 'out_refund'):
             partner = self.invoice_id.partner_id.id
         else:
             partner = self.partner_id.id
-        is_intercompany = self.env['res.company'].search(
+        is_intercompany = self.env['res.company'].sudo().search(
             [('partner_id', '=', partner)]
         )
         if is_intercompany:
             inter_company_accounts = product.product_tmpl_id.\
                 get_product_intercompany_accounts()
             if type in ('out_invoice', 'out_refund'):
                 res = inter_company_accounts["income"] or res
```

## odoo/addons/product_intercompany_account/models/sale_order_line.py

```diff
@@ -4,15 +4,15 @@
 class SaleOrderLine(models.Model):
     _inherit = "sale.order.line"
 
     @api.multi
     def _prepare_invoice_line(self, qty):
         res = super(SaleOrderLine, self)._prepare_invoice_line(qty)
 
-        our_companies = self.env['res.company'].search(
+        our_companies = self.env['res.company'].sudo().search(
             [('partner_id', '=', self.order_id.partner_id.id)]
         )
         product = self.product_id.with_context(force_company=self.company_id.id)
         product_level = product.property_account_income_intercompany
         categ = product.categ_id.property_account_income_categ_intercompany
         if our_companies and (product_level or categ):
             account = product_level or categ
```

## Comparing `odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/METADATA` & `odoo12_addon_product_intercompany_account-12.0.1.0.4.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo12-addon-product-intercompany-account
-Version: 12.0.1.0.3
+Version: 12.0.1.0.4
 Summary: Change the income and COGS accounts in intercompany transactions
 Home-page: https://github.com/OCA/multi-company
 Author: ForgeFlow S.L., Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: LGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/RECORD` & `odoo12_addon_product_intercompany_account-12.0.1.0.4.dist-info/RECORD`

 * *Files 4% similar despite different names*

```diff
@@ -1,21 +1,21 @@
 odoo/addons/product_intercompany_account/README.rst,sha256=rrvvNwyxRYP-zlkb-hZqltaBOKfyQK9VqN02F68Ql1s,2889
 odoo/addons/product_intercompany_account/__init__.py,sha256=X9EJGOE2GtZbS0G82PtSXmWSZ_R8jEM0rlJTDliQjp4,21
-odoo/addons/product_intercompany_account/__manifest__.py,sha256=C9ySEoit1gUKshuei3Srd7aH4NO1s9bA4aDuWyjp9HY,583
+odoo/addons/product_intercompany_account/__manifest__.py,sha256=iKGXVo9BC1Uld_0_whoX1oAliqttcpfBIWtJ1BmrXS4,583
 odoo/addons/product_intercompany_account/i18n/product_intercompany_account.pot,sha256=eRKF1wlV8gxTYhVoacQ5IQ8Gf4pdtZK60cTXDs1DSmE,3077
 odoo/addons/product_intercompany_account/models/__init__.py,sha256=LDlmGre6Q-lhI0_xvLtgRxaTfJYwAHy-rhbPWJGyOvU,157
-odoo/addons/product_intercompany_account/models/account_invoice.py,sha256=TJY_AnigQFdwfu2Dvr8gUAHeNnSgnk5TTOG4y_AEg_k,1487
-odoo/addons/product_intercompany_account/models/account_invoice_line.py,sha256=QY_oZ5vmlrWK0fUISDLHU3ujiWpJLoWlt4ruhJqlaF8,879
+odoo/addons/product_intercompany_account/models/account_invoice.py,sha256=81zkHpDyrVgIJaeP4TgrQ4tzW-Ds2p6IsyxHFtqZREU,1501
+odoo/addons/product_intercompany_account/models/account_invoice_line.py,sha256=G3X7C6DuZoN2kC3Y1i29SvBf_J8r2P5yOCtGW1P_15Y,886
 odoo/addons/product_intercompany_account/models/product_category.py,sha256=heJBJ_f9VylYa_-QCFCknFGOsMU0nzbWyim5gZmvmCU,621
 odoo/addons/product_intercompany_account/models/product_template.py,sha256=kZUPG751ROw3QgnutBSI3fDZmisp5aAyyaIa5ZMYd0Q,1055
-odoo/addons/product_intercompany_account/models/sale_order_line.py,sha256=2p-RpjNx3-B8iGtvdkf0t0RchJPj-X2Vh5bzDFrO-Q4,751
+odoo/addons/product_intercompany_account/models/sale_order_line.py,sha256=YGkWXayGwKeRnAElLemgThBdL4TOPIGGUy3jqJVcY0Y,758
 odoo/addons/product_intercompany_account/readme/CONTRIBUTORS.rst,sha256=eQcZX80aCkqcmDKoG-hRRz3zftmxJA8iFh0vKdDsS7Q,92
 odoo/addons/product_intercompany_account/readme/DESCRIPTION.rst,sha256=UxEyL4Ax3-CJcqT6AXjHbZOK2RFquX9k2grVRXh8AMM,167
 odoo/addons/product_intercompany_account/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
 odoo/addons/product_intercompany_account/static/description/index.html,sha256=DevC0vEzywcXICKggfIYOTLQv9CgBycJSa35GgNWKxE,12103
 odoo/addons/product_intercompany_account/tests/__init__.py,sha256=UsnfhWjC5ws39aguSiY9BI-lZHIavg4HkjhanFmVJYg,41
 odoo/addons/product_intercompany_account/tests/test_intercompany_accounts.py,sha256=IC0eQqUAVOkE1eMAvryA0nYKAb9jYnTi-L67pAtCFjE,3629
 odoo/addons/product_intercompany_account/views/product_view.xml,sha256=mcSUOGFryXZXMnBpSfU0b2fL76HQMg1_0g9yKji3onw,1525
-odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/METADATA,sha256=Hy79akCyZogDBv6lgefZPB56FPYGR3Mhgcl5_jpT6SA,3494
-odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo12_addon_product_intercompany_account-12.0.1.0.3.dist-info/RECORD,,
+odoo12_addon_product_intercompany_account-12.0.1.0.4.dist-info/METADATA,sha256=qqKqd1Ci-shBiYd_S__AQIycAaHegHjXby5yExu-Zms,3494
+odoo12_addon_product_intercompany_account-12.0.1.0.4.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+odoo12_addon_product_intercompany_account-12.0.1.0.4.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo12_addon_product_intercompany_account-12.0.1.0.4.dist-info/RECORD,,
```

