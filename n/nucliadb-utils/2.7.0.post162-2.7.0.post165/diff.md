# Comparing `tmp/nucliadb_utils-2.7.0.post162-py3-none-any.whl.zip` & `tmp/nucliadb_utils-2.7.0.post165-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,70 +1,70 @@
-Zip file size: 96505 bytes, number of entries: 68
--rw-r--r--  2.0 unx      895 b- defN 23-Apr-13 19:00 nucliadb_utils/__init__.py
--rw-r--r--  2.0 unx     5877 b- defN 23-Apr-13 19:00 nucliadb_utils/authentication.py
--rw-r--r--  2.0 unx     4518 b- defN 23-Apr-13 19:00 nucliadb_utils/clandestined.py
--rw-r--r--  2.0 unx     1090 b- defN 23-Apr-13 19:00 nucliadb_utils/exceptions.py
--rw-r--r--  2.0 unx     1869 b- defN 23-Apr-13 19:00 nucliadb_utils/featureflagging.py
--rw-r--r--  2.0 unx     2212 b- defN 23-Apr-13 19:00 nucliadb_utils/grpc.py
--rw-r--r--  2.0 unx     3572 b- defN 23-Apr-13 19:00 nucliadb_utils/indexing.py
--rw-r--r--  2.0 unx      867 b- defN 23-Apr-13 19:00 nucliadb_utils/keys.py
--rw-r--r--  2.0 unx     1519 b- defN 23-Apr-13 19:00 nucliadb_utils/nats.py
--rw-r--r--  2.0 unx     1173 b- defN 23-Apr-13 19:00 nucliadb_utils/partition.py
--rw-r--r--  2.0 unx        0 b- defN 23-Apr-13 19:00 nucliadb_utils/py.typed
--rw-r--r--  2.0 unx     1713 b- defN 23-Apr-13 19:00 nucliadb_utils/run.py
--rw-r--r--  2.0 unx     4649 b- defN 23-Apr-13 19:00 nucliadb_utils/settings.py
--rw-r--r--  2.0 unx      890 b- defN 23-Apr-13 19:00 nucliadb_utils/store.py
--rw-r--r--  2.0 unx     6633 b- defN 23-Apr-13 19:00 nucliadb_utils/transaction.py
--rw-r--r--  2.0 unx     9972 b- defN 23-Apr-13 19:00 nucliadb_utils/utilities.py
--rw-r--r--  2.0 unx      835 b- defN 23-Apr-13 19:00 nucliadb_utils/audit/__init__.py
--rw-r--r--  2.0 unx     2013 b- defN 23-Apr-13 19:00 nucliadb_utils/audit/audit.py
--rw-r--r--  2.0 unx     2446 b- defN 23-Apr-13 19:00 nucliadb_utils/audit/basic.py
--rw-r--r--  2.0 unx     7688 b- defN 23-Apr-13 19:00 nucliadb_utils/audit/stream.py
--rw-r--r--  2.0 unx      900 b- defN 23-Apr-13 19:00 nucliadb_utils/cache/__init__.py
--rw-r--r--  2.0 unx      975 b- defN 23-Apr-13 19:00 nucliadb_utils/cache/exceptions.py
--rw-r--r--  2.0 unx     1216 b- defN 23-Apr-13 19:00 nucliadb_utils/cache/memcache.py
--rw-r--r--  2.0 unx     6776 b- defN 23-Apr-13 19:00 nucliadb_utils/cache/nats.py
--rw-r--r--  2.0 unx     1654 b- defN 23-Apr-13 19:00 nucliadb_utils/cache/pubsub.py
--rw-r--r--  2.0 unx     3110 b- defN 23-Apr-13 19:00 nucliadb_utils/cache/redis.py
--rw-r--r--  2.0 unx     1302 b- defN 23-Apr-13 19:00 nucliadb_utils/cache/settings.py
--rw-r--r--  2.0 unx     5906 b- defN 23-Apr-13 19:00 nucliadb_utils/cache/utility.py
--rw-r--r--  2.0 unx      833 b- defN 23-Apr-13 19:00 nucliadb_utils/fastapi/__init__.py
--rw-r--r--  2.0 unx     1308 b- defN 23-Apr-13 19:00 nucliadb_utils/fastapi/metrics.py
--rw-r--r--  2.0 unx     1737 b- defN 23-Apr-13 19:00 nucliadb_utils/fastapi/openapi.py
--rw-r--r--  2.0 unx     3880 b- defN 23-Apr-13 19:00 nucliadb_utils/fastapi/run.py
--rw-r--r--  2.0 unx     3786 b- defN 23-Apr-13 19:00 nucliadb_utils/fastapi/versioning.py
--rw-r--r--  2.0 unx      855 b- defN 23-Apr-13 19:00 nucliadb_utils/storages/__init__.py
--rw-r--r--  2.0 unx     2274 b- defN 23-Apr-13 19:00 nucliadb_utils/storages/exceptions.py
--rw-r--r--  2.0 unx    24825 b- defN 23-Apr-13 19:00 nucliadb_utils/storages/gcs.py
--rw-r--r--  2.0 unx    10180 b- defN 23-Apr-13 19:00 nucliadb_utils/storages/local.py
--rw-r--r--  2.0 unx     2093 b- defN 23-Apr-13 19:00 nucliadb_utils/storages/nuclia.py
--rw-r--r--  2.0 unx    17174 b- defN 23-Apr-13 19:00 nucliadb_utils/storages/pg.py
--rw-r--r--  2.0 unx    15029 b- defN 23-Apr-13 19:00 nucliadb_utils/storages/s3.py
--rw-r--r--  2.0 unx     1276 b- defN 23-Apr-13 19:00 nucliadb_utils/storages/settings.py
--rw-r--r--  2.0 unx    17421 b- defN 23-Apr-13 19:00 nucliadb_utils/storages/storage.py
--rw-r--r--  2.0 unx      833 b- defN 23-Apr-13 19:00 nucliadb_utils/tests/__init__.py
--rw-r--r--  2.0 unx    10691 b- defN 23-Apr-13 19:00 nucliadb_utils/tests/asyncbenchmark.py
--rw-r--r--  2.0 unx     1043 b- defN 23-Apr-13 19:00 nucliadb_utils/tests/clandestined.py
--rw-r--r--  2.0 unx     1686 b- defN 23-Apr-13 19:00 nucliadb_utils/tests/conftest.py
--rw-r--r--  2.0 unx     2758 b- defN 23-Apr-13 19:00 nucliadb_utils/tests/gcs.py
--rw-r--r--  2.0 unx     2307 b- defN 23-Apr-13 19:00 nucliadb_utils/tests/indexing.py
--rw-r--r--  2.0 unx     1310 b- defN 23-Apr-13 19:00 nucliadb_utils/tests/local.py
--rw-r--r--  2.0 unx     7697 b- defN 23-Apr-13 19:00 nucliadb_utils/tests/nats.py
--rw-r--r--  2.0 unx     2216 b- defN 23-Apr-13 19:00 nucliadb_utils/tests/s3.py
--rw-r--r--  2.0 unx      833 b- defN 23-Apr-13 19:00 nucliadb_utils/tests/unit/__init__.py
--rw-r--r--  2.0 unx     5159 b- defN 23-Apr-13 19:00 nucliadb_utils/tests/unit/test_authentication.py
--rw-r--r--  2.0 unx    14507 b- defN 23-Apr-13 19:00 nucliadb_utils/tests/unit/test_clandestined.py
--rw-r--r--  2.0 unx     1949 b- defN 23-Apr-13 19:00 nucliadb_utils/tests/unit/test_clandestined_collision.py
--rw-r--r--  2.0 unx     5303 b- defN 23-Apr-13 19:00 nucliadb_utils/tests/unit/test_clandestined_rendezvous_hash.py
--rw-r--r--  2.0 unx     1910 b- defN 23-Apr-13 19:00 nucliadb_utils/tests/unit/test_run.py
--rw-r--r--  2.0 unx     1189 b- defN 23-Apr-13 19:00 nucliadb_utils/tests/unit/test_tests.py
--rw-r--r--  2.0 unx     1667 b- defN 23-Apr-13 19:00 nucliadb_utils/tests/unit/test_transaction.py
--rw-r--r--  2.0 unx     4436 b- defN 23-Apr-13 19:00 nucliadb_utils/tests/unit/test_utilities.py
--rw-r--r--  2.0 unx      833 b- defN 23-Apr-13 19:00 nucliadb_utils/tests/unit/storages/__init__.py
--rw-r--r--  2.0 unx    16726 b- defN 23-Apr-13 19:00 nucliadb_utils/tests/unit/storages/test_pg.py
--rw-r--r--  2.0 unx     5638 b- defN 23-Apr-13 19:00 nucliadb_utils/tests/unit/storages/test_storage.py
--rw-r--r--  2.0 unx     1924 b- defN 23-Apr-13 19:01 nucliadb_utils-2.7.0.post162.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Apr-13 19:01 nucliadb_utils-2.7.0.post162.dist-info/WHEEL
--rw-r--r--  2.0 unx       15 b- defN 23-Apr-13 19:01 nucliadb_utils-2.7.0.post162.dist-info/top_level.txt
--rw-r--r--  2.0 unx        1 b- defN 23-Apr-13 19:00 nucliadb_utils-2.7.0.post162.dist-info/zip-safe
--rw-rw-r--  2.0 unx     6122 b- defN 23-Apr-13 19:01 nucliadb_utils-2.7.0.post162.dist-info/RECORD
-68 files, 283786 bytes uncompressed, 86689 bytes compressed:  69.5%
+Zip file size: 97000 bytes, number of entries: 68
+-rw-r--r--  2.0 unx      895 b- defN 23-Apr-14 13:52 nucliadb_utils/__init__.py
+-rw-r--r--  2.0 unx     5877 b- defN 23-Apr-14 13:52 nucliadb_utils/authentication.py
+-rw-r--r--  2.0 unx     4518 b- defN 23-Apr-14 13:52 nucliadb_utils/clandestined.py
+-rw-r--r--  2.0 unx     1090 b- defN 23-Apr-14 13:52 nucliadb_utils/exceptions.py
+-rw-r--r--  2.0 unx     1869 b- defN 23-Apr-14 13:52 nucliadb_utils/featureflagging.py
+-rw-r--r--  2.0 unx     2212 b- defN 23-Apr-14 13:52 nucliadb_utils/grpc.py
+-rw-r--r--  2.0 unx     3572 b- defN 23-Apr-14 13:52 nucliadb_utils/indexing.py
+-rw-r--r--  2.0 unx      867 b- defN 23-Apr-14 13:52 nucliadb_utils/keys.py
+-rw-r--r--  2.0 unx     1519 b- defN 23-Apr-14 13:52 nucliadb_utils/nats.py
+-rw-r--r--  2.0 unx     1173 b- defN 23-Apr-14 13:52 nucliadb_utils/partition.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-14 13:52 nucliadb_utils/py.typed
+-rw-r--r--  2.0 unx     1713 b- defN 23-Apr-14 13:52 nucliadb_utils/run.py
+-rw-r--r--  2.0 unx     4649 b- defN 23-Apr-14 13:52 nucliadb_utils/settings.py
+-rw-r--r--  2.0 unx      890 b- defN 23-Apr-14 13:52 nucliadb_utils/store.py
+-rw-r--r--  2.0 unx     6633 b- defN 23-Apr-14 13:52 nucliadb_utils/transaction.py
+-rw-r--r--  2.0 unx    10936 b- defN 23-Apr-14 13:52 nucliadb_utils/utilities.py
+-rw-r--r--  2.0 unx      835 b- defN 23-Apr-14 13:52 nucliadb_utils/audit/__init__.py
+-rw-r--r--  2.0 unx     2013 b- defN 23-Apr-14 13:52 nucliadb_utils/audit/audit.py
+-rw-r--r--  2.0 unx     2446 b- defN 23-Apr-14 13:52 nucliadb_utils/audit/basic.py
+-rw-r--r--  2.0 unx     7688 b- defN 23-Apr-14 13:52 nucliadb_utils/audit/stream.py
+-rw-r--r--  2.0 unx      900 b- defN 23-Apr-14 13:52 nucliadb_utils/cache/__init__.py
+-rw-r--r--  2.0 unx      975 b- defN 23-Apr-14 13:52 nucliadb_utils/cache/exceptions.py
+-rw-r--r--  2.0 unx     1216 b- defN 23-Apr-14 13:52 nucliadb_utils/cache/memcache.py
+-rw-r--r--  2.0 unx     6776 b- defN 23-Apr-14 13:52 nucliadb_utils/cache/nats.py
+-rw-r--r--  2.0 unx     1654 b- defN 23-Apr-14 13:52 nucliadb_utils/cache/pubsub.py
+-rw-r--r--  2.0 unx     3110 b- defN 23-Apr-14 13:52 nucliadb_utils/cache/redis.py
+-rw-r--r--  2.0 unx     1302 b- defN 23-Apr-14 13:52 nucliadb_utils/cache/settings.py
+-rw-r--r--  2.0 unx     5906 b- defN 23-Apr-14 13:52 nucliadb_utils/cache/utility.py
+-rw-r--r--  2.0 unx      833 b- defN 23-Apr-14 13:52 nucliadb_utils/fastapi/__init__.py
+-rw-r--r--  2.0 unx     1308 b- defN 23-Apr-14 13:52 nucliadb_utils/fastapi/metrics.py
+-rw-r--r--  2.0 unx     1737 b- defN 23-Apr-14 13:52 nucliadb_utils/fastapi/openapi.py
+-rw-r--r--  2.0 unx     3880 b- defN 23-Apr-14 13:52 nucliadb_utils/fastapi/run.py
+-rw-r--r--  2.0 unx     3786 b- defN 23-Apr-14 13:52 nucliadb_utils/fastapi/versioning.py
+-rw-r--r--  2.0 unx      855 b- defN 23-Apr-14 13:52 nucliadb_utils/storages/__init__.py
+-rw-r--r--  2.0 unx     2274 b- defN 23-Apr-14 13:52 nucliadb_utils/storages/exceptions.py
+-rw-r--r--  2.0 unx    24825 b- defN 23-Apr-14 13:52 nucliadb_utils/storages/gcs.py
+-rw-r--r--  2.0 unx    10180 b- defN 23-Apr-14 13:52 nucliadb_utils/storages/local.py
+-rw-r--r--  2.0 unx     2093 b- defN 23-Apr-14 13:52 nucliadb_utils/storages/nuclia.py
+-rw-r--r--  2.0 unx    17174 b- defN 23-Apr-14 13:52 nucliadb_utils/storages/pg.py
+-rw-r--r--  2.0 unx    15029 b- defN 23-Apr-14 13:52 nucliadb_utils/storages/s3.py
+-rw-r--r--  2.0 unx     1276 b- defN 23-Apr-14 13:52 nucliadb_utils/storages/settings.py
+-rw-r--r--  2.0 unx    17421 b- defN 23-Apr-14 13:52 nucliadb_utils/storages/storage.py
+-rw-r--r--  2.0 unx      833 b- defN 23-Apr-14 13:52 nucliadb_utils/tests/__init__.py
+-rw-r--r--  2.0 unx    10691 b- defN 23-Apr-14 13:52 nucliadb_utils/tests/asyncbenchmark.py
+-rw-r--r--  2.0 unx     1043 b- defN 23-Apr-14 13:52 nucliadb_utils/tests/clandestined.py
+-rw-r--r--  2.0 unx     1686 b- defN 23-Apr-14 13:52 nucliadb_utils/tests/conftest.py
+-rw-r--r--  2.0 unx     2758 b- defN 23-Apr-14 13:52 nucliadb_utils/tests/gcs.py
+-rw-r--r--  2.0 unx     2307 b- defN 23-Apr-14 13:52 nucliadb_utils/tests/indexing.py
+-rw-r--r--  2.0 unx     1310 b- defN 23-Apr-14 13:52 nucliadb_utils/tests/local.py
+-rw-r--r--  2.0 unx     7697 b- defN 23-Apr-14 13:52 nucliadb_utils/tests/nats.py
+-rw-r--r--  2.0 unx     2216 b- defN 23-Apr-14 13:52 nucliadb_utils/tests/s3.py
+-rw-r--r--  2.0 unx      833 b- defN 23-Apr-14 13:52 nucliadb_utils/tests/unit/__init__.py
+-rw-r--r--  2.0 unx     5159 b- defN 23-Apr-14 13:52 nucliadb_utils/tests/unit/test_authentication.py
+-rw-r--r--  2.0 unx    14507 b- defN 23-Apr-14 13:52 nucliadb_utils/tests/unit/test_clandestined.py
+-rw-r--r--  2.0 unx     1949 b- defN 23-Apr-14 13:52 nucliadb_utils/tests/unit/test_clandestined_collision.py
+-rw-r--r--  2.0 unx     5303 b- defN 23-Apr-14 13:52 nucliadb_utils/tests/unit/test_clandestined_rendezvous_hash.py
+-rw-r--r--  2.0 unx     1910 b- defN 23-Apr-14 13:52 nucliadb_utils/tests/unit/test_run.py
+-rw-r--r--  2.0 unx     1189 b- defN 23-Apr-14 13:52 nucliadb_utils/tests/unit/test_tests.py
+-rw-r--r--  2.0 unx     1667 b- defN 23-Apr-14 13:52 nucliadb_utils/tests/unit/test_transaction.py
+-rw-r--r--  2.0 unx     5216 b- defN 23-Apr-14 13:52 nucliadb_utils/tests/unit/test_utilities.py
+-rw-r--r--  2.0 unx      833 b- defN 23-Apr-14 13:52 nucliadb_utils/tests/unit/storages/__init__.py
+-rw-r--r--  2.0 unx    16726 b- defN 23-Apr-14 13:52 nucliadb_utils/tests/unit/storages/test_pg.py
+-rw-r--r--  2.0 unx     5638 b- defN 23-Apr-14 13:52 nucliadb_utils/tests/unit/storages/test_storage.py
+-rw-r--r--  2.0 unx     1924 b- defN 23-Apr-14 13:53 nucliadb_utils-2.7.0.post165.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Apr-14 13:53 nucliadb_utils-2.7.0.post165.dist-info/WHEEL
+-rw-r--r--  2.0 unx       15 b- defN 23-Apr-14 13:53 nucliadb_utils-2.7.0.post165.dist-info/top_level.txt
+-rw-r--r--  2.0 unx        1 b- defN 23-Apr-14 13:52 nucliadb_utils-2.7.0.post165.dist-info/zip-safe
+-rw-rw-r--  2.0 unx     6123 b- defN 23-Apr-14 13:53 nucliadb_utils-2.7.0.post165.dist-info/RECORD
+68 files, 285531 bytes uncompressed, 87184 bytes compressed:  69.5%
```

## zipnote {}

```diff
@@ -183,23 +183,23 @@
 
 Filename: nucliadb_utils/tests/unit/storages/test_pg.py
 Comment: 
 
 Filename: nucliadb_utils/tests/unit/storages/test_storage.py
 Comment: 
 
-Filename: nucliadb_utils-2.7.0.post162.dist-info/METADATA
+Filename: nucliadb_utils-2.7.0.post165.dist-info/METADATA
 Comment: 
 
-Filename: nucliadb_utils-2.7.0.post162.dist-info/WHEEL
+Filename: nucliadb_utils-2.7.0.post165.dist-info/WHEEL
 Comment: 
 
-Filename: nucliadb_utils-2.7.0.post162.dist-info/top_level.txt
+Filename: nucliadb_utils-2.7.0.post165.dist-info/top_level.txt
 Comment: 
 
-Filename: nucliadb_utils-2.7.0.post162.dist-info/zip-safe
+Filename: nucliadb_utils-2.7.0.post165.dist-info/zip-safe
 Comment: 
 
-Filename: nucliadb_utils-2.7.0.post162.dist-info/RECORD
+Filename: nucliadb_utils-2.7.0.post165.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## nucliadb_utils/utilities.py

```diff
@@ -16,14 +16,15 @@
 #
 # You should have received a copy of the GNU Affero General Public License
 # along with this program. If not, see <http://www.gnu.org/licenses/>.
 
 from __future__ import annotations
 
 import asyncio
+import hashlib
 from concurrent.futures.thread import ThreadPoolExecutor
 from enum import Enum
 from typing import TYPE_CHECKING, Any, List, Optional, cast
 
 from nucliadb_protos.writer_pb2_grpc import WriterStub
 
 from nucliadb_utils import featureflagging, logger
@@ -61,15 +62,15 @@
     CHITCHAT = "chitchat"
     PUBSUB = "pubsub"
     INDEXING = "indexing"
     AUDIT = "audit"
     STORAGE = "storage"
     TRAIN = "train"
     TRAIN_SERVER = "train_server"
-    FF = "ff"
+    FEATURE_FLAGS = "feature_flags"
 
 
 def get_utility(ident: Utility):
     return MAIN.get(ident)
 
 
 def set_utility(ident: Utility, util: Any):
@@ -270,13 +271,40 @@
 async def stop_audit_utility():
     audit_utility = get_audit()
     if audit_utility:
         await audit_utility.finalize()
         clean_utility(Utility.AUDIT)
 
 
-def get_ff() -> featureflagging.FlagService:
-    val = get_utility(Utility.FF)
+def get_feature_flags() -> featureflagging.FlagService:
+    val = get_utility(Utility.FEATURE_FLAGS)
     if val is None:
         val = featureflagging.FlagService()
-        set_utility(Utility.FF, val)
+        set_utility(Utility.FEATURE_FLAGS, val)
     return val
+
+
+X_USER_HEADER = "X-NUCLIADB-USER"
+X_ACCOUNT_HEADER = "X-NUCLIADB-ACCOUNT"
+X_ACCOUNT_TYPE_HEADER = "X-NUCLIADB-ACCOUNT-TYPE"
+
+
+def has_feature(
+    name: str,
+    default: bool = False,
+    context: Optional[dict[str, str]] = None,
+    headers: Optional[dict[str, str]] = None,
+) -> bool:
+    if context is None:
+        context = {}
+    if headers is not None:
+        if X_USER_HEADER in headers:
+            context["user_id_md5"] = hashlib.md5(
+                headers[X_USER_HEADER].encode("utf-8")
+            ).hexdigest()
+        if X_ACCOUNT_HEADER in headers:
+            context["account_id_md5"] = hashlib.md5(
+                headers[X_ACCOUNT_HEADER].encode()
+            ).hexdigest()
+        if X_ACCOUNT_TYPE_HEADER in headers:
+            context["account_type"] = headers[X_ACCOUNT_TYPE_HEADER]
+    return get_feature_flags().enabled(name, default=default, context=context)
```

## nucliadb_utils/tests/unit/test_utilities.py

```diff
@@ -13,15 +13,16 @@
 # but WITHOUT ANY WARRANTY; without even the implied warranty of
 # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 # GNU Affero General Public License for more details.
 #
 # You should have received a copy of the GNU Affero General Public License
 # along with this program. If not, see <http://www.gnu.org/licenses/>.
 
-from unittest.mock import AsyncMock, patch
+import hashlib
+from unittest.mock import AsyncMock, MagicMock, patch
 
 import pytest
 
 from nucliadb_utils import featureflagging, utilities
 
 
 @pytest.fixture(autouse=True)
@@ -131,11 +132,33 @@
     ):
         await utilities.start_audit_utility("service")
         await utilities.stop_audit_utility()
 
         assert "audit" not in utilities.MAIN
 
 
-def test_get_ff():
-    ff = utilities.get_ff()
+def test_get_feature_flags():
+    ff = utilities.get_feature_flags()
     assert ff is not None
     assert isinstance(ff, featureflagging.FlagService)
+
+
+def test_has_feature():
+    ff = MagicMock()
+    headers = {
+        utilities.X_USER_HEADER: "user",
+        utilities.X_ACCOUNT_HEADER: "account",
+        utilities.X_ACCOUNT_TYPE_HEADER: "account-type",
+    }
+    with patch("nucliadb_utils.utilities.get_feature_flags", return_value=ff):
+        ff.enabled.return_value = True
+        assert utilities.has_feature("test", default=False, headers=headers)
+
+        ff.enabled.assert_called_once_with(
+            "test",
+            default=False,
+            context={
+                "user_id_md5": hashlib.md5(b"user").hexdigest(),
+                "account_id_md5": hashlib.md5(b"account").hexdigest(),
+                "account_type": "account-type",
+            },
+        )
```

## Comparing `nucliadb_utils-2.7.0.post162.dist-info/METADATA` & `nucliadb_utils-2.7.0.post165.dist-info/METADATA`

 * *Files 5% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: nucliadb-utils
-Version: 2.7.0.post162
+Version: 2.7.0.post165
 Summary: UNKNOWN
 Home-page: https://nuclia.com
 License: BSD
 Platform: UNKNOWN
 Classifier: Development Status :: 4 - Beta
 Classifier: Programming Language :: Python :: 3.7
 Classifier: Topic :: Software Development :: Libraries :: Python Modules
@@ -12,15 +12,15 @@
 Requires-Dist: aiohttp (>=3.8.1)
 Requires-Dist: prometheus-client (>=0.12.0)
 Requires-Dist: types-requests (>=2.27.7)
 Requires-Dist: mmh3 (>=3.0.0)
 Requires-Dist: nats-py[nkeys] (>=2.1.3)
 Requires-Dist: pyjwt (>=2.4.0)
 Requires-Dist: memorylru (>=1.1.2)
-Requires-Dist: nucliadb-protos (==2.7.0-post162)
+Requires-Dist: nucliadb-protos (==2.7.0-post165)
 Requires-Dist: nucliadb-telemetry (>=1.8.0)
 Requires-Dist: mrflagly
 Provides-Extra: cache
 Requires-Dist: redis (>=4.3.4) ; extra == 'cache'
 Requires-Dist: orjson (>=3.6.7) ; extra == 'cache'
 Requires-Dist: lru-dict (>=1.1.7) ; extra == 'cache'
 Provides-Extra: fastapi
```

## Comparing `nucliadb_utils-2.7.0.post162.dist-info/RECORD` & `nucliadb_utils-2.7.0.post165.dist-info/RECORD`

 * *Files 4% similar despite different names*

```diff
@@ -9,15 +9,15 @@
 nucliadb_utils/nats.py,sha256=YW4uMrgL0Ih3SMd5Yo_kHZtas86WXrKo-Nb7HQjEPR4,1519
 nucliadb_utils/partition.py,sha256=0tmXuwRM_v-OmKoRkB--OMDzomVEkmgxqMmNNomI_24,1173
 nucliadb_utils/py.typed,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 nucliadb_utils/run.py,sha256=bKMfsPEK6WdWfiPyWPUxCqcLo4tq6eOwyaf910TOwBk,1713
 nucliadb_utils/settings.py,sha256=23v5-fKtxXxrqJiC2JRIRRMLLBMrvjg3RhOnQ-xJbok,4649
 nucliadb_utils/store.py,sha256=kQ35HemE0v4_Qg6xVqNIJi8vSFAYQtwI3rDtMsNy62Y,890
 nucliadb_utils/transaction.py,sha256=l5nbx-GMZvB79rrF2aikvI9yhYHq3WEed4cvFYtW9V8,6633
-nucliadb_utils/utilities.py,sha256=TGXbI8zVxcf8eeabF22TOMD4qwM_SpHpkb_I7HamUqI,9972
+nucliadb_utils/utilities.py,sha256=HSWY4seLQZzdk-n_96EK7zfKeshTmNo32xttkwG2Jqo,10936
 nucliadb_utils/audit/__init__.py,sha256=cp15ZcFnHvpcu_5-aK2A4uUyvuZVV_MJn4bIXMa20ks,835
 nucliadb_utils/audit/audit.py,sha256=eZwbTaDHtEAqjtJ34eNuBtv05tK6XfcfcxWeGgOl4Z4,2013
 nucliadb_utils/audit/basic.py,sha256=V6bYvJqP9cvagrvnrYaym0aKpictP0XvL_s34S0YX68,2446
 nucliadb_utils/audit/stream.py,sha256=jZe2VbZ4dR5oRkfOnoOKsmEeQMqcUWMxsjccL7oJCW8,7688
 nucliadb_utils/cache/__init__.py,sha256=vVp-ZPp_aGpofI754T7E9JxsMkATqAEytangiKvE1Nk,900
 nucliadb_utils/cache/exceptions.py,sha256=Zu-O_-0-yctOEgoDGI92gPzWfBMRrpiAyESA62ld6MA,975
 nucliadb_utils/cache/memcache.py,sha256=CWd09BLh0K7vmxmj3Bhh0cLlCVeI_uvkzubqJpK7h0A,1216
@@ -53,16 +53,16 @@
 nucliadb_utils/tests/unit/test_authentication.py,sha256=grPHI9agbyMmsJFm_XhRXmDlKdEtvexvf5QDuuQGzH0,5159
 nucliadb_utils/tests/unit/test_clandestined.py,sha256=pTPcNT5XDWqR1EfmFSdTYpcaEnviXul-hXmL0Sr7wBA,14507
 nucliadb_utils/tests/unit/test_clandestined_collision.py,sha256=j9Y0lUIg4eDa4lSnlm4HAbbPAJiFwpeUbGXGWHBgqWc,1949
 nucliadb_utils/tests/unit/test_clandestined_rendezvous_hash.py,sha256=_H74r3QNKSy-dX6sifC0EpRJIeh1opkDM672UaznXSg,5303
 nucliadb_utils/tests/unit/test_run.py,sha256=VHeojVBj_AfV_uNch9eEi4zCT-O94VKjwb_O-UZgqpA,1910
 nucliadb_utils/tests/unit/test_tests.py,sha256=-YHgVMKJr_3WYwrBj9TnwpVLIkP80PLZpWnvAIYvnz8,1189
 nucliadb_utils/tests/unit/test_transaction.py,sha256=0K09sWCEZ9iFXHYOiPDhS1Vw5F4akyrmboLalwH-B6U,1667
-nucliadb_utils/tests/unit/test_utilities.py,sha256=96pliy7wk1RqA8r7ogsf4_9AE7FRNK6PjTrB5O-_jBw,4436
+nucliadb_utils/tests/unit/test_utilities.py,sha256=CGTJnynHU7AfDcF1gclgepB95_j0ycXywMphSEL5cWo,5216
 nucliadb_utils/tests/unit/storages/__init__.py,sha256=itSI7dtTwFP55YMX4iK7JzdMHS5CQVUiB1XzQu4UBh8,833
 nucliadb_utils/tests/unit/storages/test_pg.py,sha256=KAIzD3QuJFMRNSSAKz-M5qrO9fJIHYbZfiOOleTgP1c,16726
 nucliadb_utils/tests/unit/storages/test_storage.py,sha256=kgZFXc-y_BX3HlcNHERzAkNPhNilXXQawIHBFq_5Q1k,5638
-nucliadb_utils-2.7.0.post162.dist-info/METADATA,sha256=aRuGeTjkT7zLImRgRfwCIVtXgE5tS58b7uYdwxREHE8,1924
-nucliadb_utils-2.7.0.post162.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-nucliadb_utils-2.7.0.post162.dist-info/top_level.txt,sha256=fE3vJtALTfgh7bcAWcNhcfXkNPp_eVVpbKK-2IYua3E,15
-nucliadb_utils-2.7.0.post162.dist-info/zip-safe,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
-nucliadb_utils-2.7.0.post162.dist-info/RECORD,,
+nucliadb_utils-2.7.0.post165.dist-info/METADATA,sha256=AMSYWJkUUeqEOdCmYn_0N-G33BQYW03ODsgqLwQeJUM,1924
+nucliadb_utils-2.7.0.post165.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+nucliadb_utils-2.7.0.post165.dist-info/top_level.txt,sha256=fE3vJtALTfgh7bcAWcNhcfXkNPp_eVVpbKK-2IYua3E,15
+nucliadb_utils-2.7.0.post165.dist-info/zip-safe,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
+nucliadb_utils-2.7.0.post165.dist-info/RECORD,,
```

